(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(3),c=n.n(i),l=(n(13),n(1)),r=n(4),s=n(5),d=n(7),m=n(6),u=(n(14),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).fetchTasks=function(){console.log("Fetching..."),fetch("http://127.0.0.1:8000/api/task-list/").then((function(e){return e.json()})).then((function(e){return a.setState({todoList:e})}))},a.getCookie=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var o=n[a].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t},a.handleChange=function(e){var t=e.target.name,n=e.target.value;console.log("Name:",t),console.log("value:",n),a.setState({activeItem:Object(l.a)(Object(l.a)({},a.state.activeItem),{},{title:n})})},a.handleSubmit=function(e){e.preventDefault(),console.log("ITEM:",a.state.activeItem);var t=a.getCookie("csrftoken"),n="http://127.0.0.1:8000/api/task-create/";1==a.state.editing&&(n="http://127.0.0.1:8000/api/task-update/ ".concat(a.state.activeItem.id,"/"),a.setState({editing:!1})),fetch(n,{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":t},body:JSON.stringify(a.state.activeItem)}).then((function(e){a.fetchTasks(),a.setState({activeItem:{id:null,title:"",completed:!1}})})).catch((function(e){console.log("Error:",e)}))},a.startEdit=function(e){a.setState({activeItem:e,editing:!0})},a.deleteItem=function(e){var t=a.getCookie("csrftoken");fetch("http://127.0.0.1:8000/api/task-delete/".concat(e.id,"/"),{method:"DELETE",headers:{"Content-type":"application/json","X-CSRFToken":t}}).then((function(e){a.fetchTasks()}))},a.strikeUnstike=function(e){e.completed=!e.completed;var t=a.getCookie("csrftoken");console.log("Task:",e.completed),fetch("http://127.0.0.1:8000/api/task-update/ ".concat(e.id,"/"),{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":t},body:JSON.stringify({completed:e.completed,title:e.title})}).then((function(e){a.fetchTasks()}))},a.state={todoList:[],activeItem:{id:null,title:"",completed:!1},editing:!1},a}return Object(s.a)(n,[{key:"componentWillMount",value:function(){this.fetchTasks()}},{key:"render",value:function(){var e=this.state.todoList,t=this;return o.a.createElement("div",{id:"task-container"},o.a.createElement("div",{id:"form-wrapper"},o.a.createElement("form",{onSubmit:this.handleSubmit,id:"form"},o.a.createElement("div",{className:"flex-wrapper"},o.a.createElement("div",{style:{flex:7}},o.a.createElement("input",{onChange:this.handleChange,type:"text",id:"input",className:"form-control",name:"title",value:this.state.activeItem.title,placeholder:"Task Todo...","aria-describedby":"emailHelp"})),o.a.createElement("div",{style:{flex:1}},o.a.createElement("button",{id:"submit",type:"submit",name:"add",className:"btn btn-primary"},"Submit"))))),o.a.createElement("div",{id:"list-wrapper"},e.map((function(e,n){return o.a.createElement("div",{style:{flex:7},key:n,className:"task-wrapper flex-wrapper"},o.a.createElement("div",{onClick:function(){return t.strikeUnstike(e)},style:{flex:7}},0==e.completed?o.a.createElement("span",null,e.title):o.a.createElement("strike",null,e.title)),o.a.createElement("div",{style:{flex:1}},o.a.createElement("button",{onClick:function(){return t.startEdit(e)},id:"edit",className:"btn btn-sm btn-outline-info"},"Edit")),o.a.createElement("div",{style:{flex:1}},o.a.createElement("button",{onClick:function(){return t.deleteItem(e)},className:"btn btn-sm btn-danger"},"Delete")))}))))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.d3252b60.chunk.js.map